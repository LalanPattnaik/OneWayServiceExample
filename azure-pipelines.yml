name: $(Date:yyyy.MM.dd).$(Rev:r)
variables:
  SNYK_TOKEN: c5392243-a958-484e-8a5e-0643e468c35a
jobs:
- job:
  pool:
    vmImage: 'vs2017-win2016'

  steps:

  - task: DotNetCoreCLI@2
    displayName: 'Building Project'
    inputs:
      command: build
      arguments: -p:Version=$(Build.BuildNumber)

  - task: Snyk@2
    inputs:
      multiFile: true
      files: |
        #yarn.lock
        package.json
        #package-lock.json
        #Gemfile
        #Gemfile.lock
        #pom.xml
        #Pipfile
        #requirements.txt
        #build.gradle
        #build.gradle.kts
        #build.sbt
        #Gopkg.lock
        #**/vendor/vendor.json
        #**/obj/project.assets.json
        #packages.config
        #composer.lock
        
        #!**/node_modules/**/*
      protect: false
      test: true
      monitor: false
      authType: 'token'
      token: 'c5392243-a958-484e-8a5e-0643e468c35a'
      failBuild: true
      dev: false
      trustPolicies: false